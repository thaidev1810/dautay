/* src/GiftPage.css */
/* Đảm bảo body và html trong index.css đã set height 100% và overflow hidden */
.gift-page-container {
    height: 100vh;
    width: 100vw;
    position: relative;
    overflow: hidden;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

.background-image{
    position: absolute;
    width: 100vw;
    height: 100vh;
    object-fit: cover;
    object-position: center;
    transition: transform 0.3s ease;
    z-index: 1;
}
.corner-image {
    position: absolute;
    width: 60vw;
    height: 60vh;
    object-fit: cover;
    transition: transform 0.3s ease;
    z-index: 1;
}
.corner-image-right{
    position: absolute;
    width: 90vw;
    height: 90vh;
    object-fit: cover;
    transition: transform 0.3s ease;
    z-index: 1;
}

.bottom-left-right{
    position: absolute;
    width: 50vw;
    height: 50vh;
    bottom: -10vh;
    right: -20vh;
    object-fit: cover;
    transition: transform 0.3s ease;
    z-index: 2;
    transform:rotate(-20deg);
}


.heart1{
    position: absolute;
    width: 30vw;
    height: 53vh;
    bottom: -8vh;
    right: 5vh;
    object-fit: cover;
    transition: transform 0.3s ease;
    z-index: 1;
}

.heart2{
    position: absolute;
    width: 20vw;
    height: 34vh;
    bottom:35vh;
    right: 22vh;
    object-fit: cover;
    transition: transform 0.3s ease;
    z-index: 1;
    transform: rotate(-19deg);
}

/* Ảnh ở góc dưới trái */
.bottom-left {
    bottom: 0vh;
    left: -19vh;
    transform-origin: top left;
}

.bottom-right {
    bottom: 0vh;
    right: -19vh;
    transform-origin: top right;
}


/* Ảnh ở góc trên phải */
.top-left {
    top: -15vh;
    left: -25vw;
    transform-origin: bottom left;
}



/* ---------- Hiệu ứng động & vào trang ---------- */
@property --scale {
    syntax: '<number>';
    inherits: false;
    initial-value: 1;
}
@property --lidY {
    syntax: '<length-percentage>';
    inherits: false;
    initial-value: 0px;
}
@property --lidRot {
    syntax: '<angle>';
    inherits: false;
    initial-value: 0deg;
}

.heart1,
.heart2{
    transform: rotate(var(--rot, 0deg)) scale(var(--scale, 1));
    transform-origin: center;
}
.heart1{ --rot: 0deg; }
.heart2{ --rot: -19deg; }

@keyframes heartbeat {
    0%, 100% { --scale: 1; }
    25% { --scale: 1.06; }
    50% { --scale: 0.98; }
    75% { --scale: 1.06; }
}
/* ---------- SCENE PHONG THƯ ---------- */
#letterScene{ position: absolute; inset: 0; z-index: 10; display: none; }
#letterScene .container{
    display: flex; justify-content: center; align-items: center; height: 97vh;
}
#letterScene .container svg{ width: 50%; height: 50%; }
#letterScene *{ margin: 0; padding: 0; }
#letterScene .body-letter{ display: flex; justify-content: center; align-items: center; height: 100vh; background-color: transparent; }
#letterScene .letter{ position: relative; z-index: 1; }
#letterScene .valentines{ position: relative; top: 50px; cursor: pointer; animation: up 3s linear infinite; }
@keyframes up{ 0%,100%{ transform: translateY(0);} 50%{ transform: translateY(-30px);} }
#letterScene .envelope{ position: relative; width: 300px; height: 200px; background-color: #f08080; }
#letterScene .envelope:before{ background-color: #f08080; content: ""; position: absolute; width: 212px; height: 212px; transform: rotate(45deg); top: -105px; left: 44px; border-radius: 30px 0 0 0; }
#letterScene .card{ position: absolute; background-color: #eae2b7; width: 270px; height: 170px; top: 5px; left: 15px; box-shadow: -5px -5px 100px rgba(0,0,0,0.4); }
#letterScene .card:before{ content: ""; position: absolute; border: 3px dotted #003049; width: 240px; height: 140px; left: 12px; top: 12px; }
#letterScene .text{ position: absolute; font-family: 'Brush Script MT', cursive; font-size: 30px; text-align: center; line-height: 25px; top: 19px; left: 85px; color: #003049; }
#letterScene .heart{ background-color: #d62828; display: inline-block; height: 30px; margin: 0 10px; position: relative; top: 110px; left: 105px; transform: rotate(-45deg); width: 30px; }
#letterScene .heart:before, #letterScene .heart:after{ content: ""; background-color: #d62828; border-radius: 50%; height: 30px; position: absolute; width: 30px; }
#letterScene .heart:before{ top: -15px; left: 0; }
#letterScene .heart:after{ left: 15px; top: 0; }
#letterScene .hearts{ position: absolute; top: 0; }
#letterScene .one, #letterScene .two, #letterScene .three, #letterScene .four, #letterScene .five{ background-color: red; display: inline-block; height: 10px; margin: 0 10px; position: relative; transform: rotate(-45deg); width: 10px; top: 50px; }
#letterScene .one:before, #letterScene .one:after,
#letterScene .two:before, #letterScene .two:after,
#letterScene .three:before, #letterScene .three:after,
#letterScene .four:before, #letterScene .four:after,
#letterScene .five:before, #letterScene .five:after{ content: ""; background-color: red; border-radius: 50%; height: 10px; position: absolute; width: 10px; }
#letterScene .one:before, #letterScene .two:before, #letterScene .three:before, #letterScene .four:before, #letterScene .five:before{ top: -5px; left: 0; }
#letterScene .one:after, #letterScene .two:after, #letterScene .three:after, #letterScene .four:after, #letterScene .five:after{ left: 5px; top: 0; }
#letterScene .one{ left: 10px; animation: heart 1s ease-out infinite; }
#letterScene .two{ left: 30px; animation: heart 2s ease-out infinite; }
#letterScene .three{ left: 50px; animation: heart 1.5s ease-out infinite; }
#letterScene .four{ left: 70px; animation: heart 2.3s ease-out infinite; }
#letterScene .five{ left: 90px; animation: heart 1.7s ease-out infinite; }
@keyframes heart{ 0%{ transform: translateY(0) rotate(-45deg) scale(0.3); opacity: 1;} 100%{ transform: translateY(-150px) rotate(-45deg) scale(1.3); opacity: 0.5;} }
#letterScene .front{ position: absolute; border-right: 180px solid #f4978e; border-top: 95px solid transparent; border-bottom: 100px solid transparent; left: 120px; top: 5px; width: 0; height: 0; z-index: 10; }
#letterScene .front:before{ position: absolute; content: ""; border-left: 300px solid #f8ad9d; border-top: 195px solid transparent; left: -120px; top: -95px; width: 0; height: 0; }
#letterScene .shadow{ position: absolute; width: 330px; height: 25px; border-radius: 50%; background-color: rgba(0,0,0,0.3); top: 265px; left: -15px; animation: scale 3s linear infinite; z-index: -1; }
@keyframes scale{ 0%,100%{ transform: scaleX(1);} 50%{ transform: scaleX(0.85);} }
#letterScene .hover-animation{ animation: hover 1.75s ease-in-out infinite; }
#letterScene #castle{ display: flex; justify-content: center; align-items: center; height: 100vh; background-color: transparent; }
#letterScene .dustDef{ position: absolute; background-color: white; border-radius: 100%; box-shadow: 0 0 3px 1px white; opacity: 0; }
@keyframes hover{ 0%{ margin-top: 60px;} 50%{ margin-top: 50px;} 100%{ margin-top: 60px;} }
@keyframes glow{ 0%{ box-shadow: 0 0 25px 0 #e8b2ca;} 50%{ box-shadow: 0 0 45px 0 #e8b2ca;} 100%{ box-shadow: 0 0 25px 0 #e8b2ca;} }
@keyframes fall{ 5%{ top: 209px; left: 105px; transform: rotate(55deg) scale(0.9,0.95) skew(-18deg); opacity: .9;} 30%{ left: 90px;} 55%{ left: 130px;} 60%,100%{ top: 380px; transform: rotate(30deg) scale(0.9,0.95) skew(-32deg); opacity: 0;} }
@keyframes floatAnimate{ 0%{ background-size: 105% 120%; background-position: 0 0; opacity: .7;} 50%{ background-size: 100% 100%; background-position: 0 0; opacity: .5;} 100%{ background-size: 105% 120%; background-position: 0 0; opacity: .7;} }
#letterScene svg{ width: 80%; display: block; position: absolute; margin: auto; top: 0; bottom: 0; left: 0; right: 0; z-index: 1; }
#letterScene text{ fill: #e6668a; font-family: consolas; font-size: 9px; }
#letterScene p{ position: absolute; z-index: 2; }
#letterScene label{ -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; opacity: .8; }
#letterScene .letters{ position: absolute; width: 65px; transition: 10s ease-in-out; cursor: pointer; z-index: 1000; }
#letterScene .letters img{ width: 100%; }
#letterScene .wrapperLetterForm{ position: absolute; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 1000; background: rgba(0,0,0,0.7); display: none; }
#letterScene .boxLetter{ width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; }
#letterScene .boxLetter .formLetter{ position: relative; width: 600px; height: 350px; background-color: #FFEBEB; border-radius: 20px; z-index: 100; padding: 20px 15px; box-shadow: rgba(0,0,0,0.24) 0px 3px 8px; }
#letterScene .formLetter .wrapperLetter{ position: relative; width: 100%; height: 100%; border: 2px dashed #FF6666; border-radius: inherit; display: flex; }
#letterScene .boxLetter .before{ position: absolute; width: 600px; height: 350px; background: #fff; transform: rotate(-15deg); border-radius: 20px; z-index: 10; }
#letterScene .formLetter .heartLetter{ position: absolute; width: 30px; height: 30px; border-radius: 50%; background: #FFEBEB; display: flex; justify-content: center; align-items: center; z-index: 10; }
#letterScene .heartLetter .heartLetterItem{ position: relative; width: 10px; height: 10px; transform: rotate(45deg); background: #FF6666; }
#letterScene .heartLetter:first-child{ right: 5px; top: 10px; }
#letterScene .heartLetter:nth-child(2){ left: 5px; bottom: 10px; }
#letterScene .heartLetterItem::before, #letterScene .heartLetterItem::after{ position: absolute; content: ''; width: 100%; height: 100%; border-radius: 50%; background: inherit; }
#letterScene .heartLetterItem::before{ top: -50%; }
#letterScene .heartLetterItem::after{ left: -50%; }
#letterScene .giftbox{ position: relative; width: 40%; height: 100%; }
#letterScene .giftbox .img{ position: absolute; width: 160px; bottom: -10px; left: 0; z-index: 100; }
#letterScene .giftbox img{ width: 100%; }
#letterScene .textLetter{ width: 100%; flex-direction: column; justify-content: center; display: flex; align-items: center; user-select: none; }
#letterScene .textLetter h2{ font-size: 30px; font-weight: 700; font-family: 'Dancing Script', cursive; }
#letterScene .textLetter .contentLetter{ font-size: 19px; text-align: center; padding: 0 30px; margin-top: 10px; font-family: 'Dancing Script', cursive; position: initial; word-break: break-word; overflow-wrap: anywhere; white-space: pre-wrap; max-height: 55vh; overflow-y: auto; -webkit-overflow-scrolling: touch; }
#letterScene .fa-xmark{ position: absolute; right: 20px; top: 20px; color: #fff; cursor: pointer; font-size: 25px; }
#letterScene .letterNextBtn{
    position: absolute; right: 4px; bottom: 2px; z-index: 12;
    width: 44px; height: 44px; border-radius: 50%; border: none; cursor: pointer;
    background: #FF6666; color: #fff; display: flex; align-items: center; justify-content: center;
    box-shadow: 0 6px 14px rgba(0,0,0,0.18);
}
#letterScene .letterNextBtn:active{ transform: scale(0.96); }
#letterScene .show{ display: block; }
#letterScene .heartAnimation{ position: absolute; width: 150px; bottom: 0; }
#letterScene .heartAnimation img{ width: 100%; }
#letterScene .mewmew1, #letterScene .mewmew2{ position: absolute; width: 90px; }
#letterScene .mewmew1{ bottom: 0; left: 0; }
#letterScene .mewmew2{ bottom: 0; right: 0; }
#letterScene .mewmew1 img, #letterScene .mewmew2 img{ width: 100%; }
#letterScene .signature{ position: absolute; bottom: 10px; right: 90px; font-weight: 700; font-family: 'Dancing Scrip', cursive; font-size: 20px; color: #FF6666; font-style: italic; text-align: right; z-index: 5; }
@media (max-width: 480px){
    #letterScene .boxLetter .formLetter{ width: 92vw; height: auto; max-height: 80vh; }
    #letterScene .formLetter .wrapperLetter{ overflow: hidden; }
    #letterScene .giftbox{ display: none; }
    #letterScene .textLetter{ padding: 6px 4px; }
    #letterScene .textLetter h2{ font-size: 24px; }
    #letterScene .textLetter .contentLetter{ font-size: 16px; max-height: 58vh; overflow-y: auto; -webkit-overflow-scrolling: touch; padding: 0 12px; }
    #letterScene .heartAnimation{ position: static; width: 120px; margin: 8px auto 0; }
    #letterScene .signature{ right: 35px; bottom: 8px; font-size: 16px; }
    #giftOverlay .caption{
      bottom: 16vh;
    }
}